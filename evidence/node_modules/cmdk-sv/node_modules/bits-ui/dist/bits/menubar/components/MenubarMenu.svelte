<script>import { setMenuCtx } from "../ctx.js";
import { generateId } from "../../../internal/id.js";
export let closeOnOutsideClick = void 0;
export let closeOnEscape = void 0;
export let portal = void 0;
export let open = void 0;
export let onOpenChange = void 0;
export let preventScroll = void 0;
export let arrowSize = void 0;
export let positioning = void 0;
export let loop = void 0;
export let dir = void 0;
export let typeahead = void 0;
export let closeFocus = void 0;
export let disableFocusFirstItem = void 0;
const ids = {
  menu: generateId(),
  trigger: generateId()
};
const {
  states: { open: localOpen },
  updateOption
} = setMenuCtx({
  closeOnOutsideClick,
  ids,
  closeOnEscape,
  portal,
  preventScroll,
  arrowSize,
  positioning,
  loop,
  dir,
  typeahead,
  closeFocus,
  disableFocusFirstItem,
  onOpenChange: ({ next }) => {
    if (open !== next) {
      onOpenChange?.(next);
      open = next;
    }
    return next;
  }
});
$:
  open !== void 0 && localOpen.set(open);
$:
  updateOption("closeOnOutsideClick", closeOnOutsideClick);
$:
  updateOption("closeOnEscape", closeOnEscape);
$:
  updateOption("portal", portal);
$:
  updateOption("preventScroll", preventScroll);
$:
  updateOption("arrowSize", arrowSize);
$:
  updateOption("positioning", positioning);
$:
  updateOption("loop", loop);
$:
  updateOption("dir", dir);
$:
  updateOption("closeFocus", closeFocus);
$:
  updateOption("disableFocusFirstItem", disableFocusFirstItem);
$:
  updateOption("typeahead", typeahead);
</script>

<slot menuIds={ids} />
